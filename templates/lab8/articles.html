{% extends "base.html" %}

{% block lab %}Лабораторная работа 8{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='lab8.css') }}">
{% endblock %}

{% block main %}
    <h1>Мои статьи</h1>
    
    <a href="/lab8/create">Создать новую статью</a>
    
    {% if articles %}
        <ul>
            {% for article in articles %}
                <li style="border: 1px solid #ccc; padding: 10px; margin: 10px 0;">
                    <h3>{{ article.title }}</h3>
                    <p>{{ article.article_text[:100] }}...</p>
                    <p>
                        <strong>Статус:</strong> 
                        {% if article.is_public %}Публичная{% else %}Приватная{% endif %} |
                        {% if article.is_favorite %}★ Избранная{% endif %}
                    </p>
                    <p><strong>Лайков:</strong> {{ article.likes }}</p>
                    <div>
                        <a href="/lab8/edit/{{ article.id }}">Редактировать</a> |
                        <a href="/lab8/delete/{{ article.id }}" 
                           onclick="return confirm('Вы уверены, что хотите удалить эту статью?')">
                            Удалить
                        </a>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>У вас пока нет статей. <a href="/lab8/create">Создать первую</a></p>
    {% endif %}
{% endblock %}