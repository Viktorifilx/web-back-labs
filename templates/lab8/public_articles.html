{% extends "base.html" %}

{% block lab %}Лабораторная работа 8{% endblock %}

{% block main %}
<h1>Публичные статьи</h1>

<div class="lab8-menu">
    <a href="/lab8/" class="lab8-menu-btn primary">Главная</a>
    <a href="/lab8/search" class="lab8-menu-btn success">Поиск</a>
    {% if current_user.is_authenticated %}
        <a href="/lab8/articles" class="lab8-menu-btn">Мои статьи</a>
        <a href="/lab8/create" class="lab8-menu-btn success">Создать</a>
    {% endif %}
</div>

{% if articles and articles|length > 0 %}
    <ul style="list-style: none; padding: 0; margin-top: 16px;">
        {% for article in articles %}
            <li style="
                border: 1px solid #e5e7eb;
                padding: 14px 16px;
                margin: 12px 0;
                border-radius: 12px;
                background: #ffffff;
                box-shadow: 0 4px 14px rgba(0,0,0,0.05);
            ">
                <h3 style="margin-top: 0;">{{ article.title }}</h3>
                <p>{{ article.article_text[:200] }}...</p>
                <p style="margin-bottom: 0;">
                    <strong>Автор:</strong> {{ article.author.login if article.author else 'Неизвестен' }}
                    <span style="margin: 0 6px;">|</span>
                    <strong>Лайков:</strong> {{ article.likes }}
                </p>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p style="margin-top: 16px;">Нет публичных статей.</p>
{% endif %}

{% endblock %}
